<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Announcing async SOAP requests with ReactPHP version 2</title>
    <link href="../src/landing-page.v2.css" rel="stylesheet">
    <link href="../src/tailwind.min.css" rel="stylesheet">
    <link rel="alternate" type="application/atom+xml" href="../posts.atom" title="Recent blog posts" />
    <script defer data-domain="clue.engineering" src="https://plausible.io/js/script.outbound-links.js"></script>

    <meta name="description" content="Today, I&#039;m happy to announce the v2.0.0 release of clue/reactphp-soap, the simple, async SOAP web service client library, built on top of ReactPHP. ðŸŽ‰ The common opinion is that SOAP might be out of fashion. We&#039;ll show that&#039;s not necessarily true and try to help make SOAP the trend again.â€¦">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Announcing async SOAP requests with ReactPHP version 2">
    <meta property="og:description" content="Today, I&#039;m happy to announce the v2.0.0 release of clue/reactphp-soap, the simple, async SOAP web service client library, built on top of ReactPHP. ðŸŽ‰ The common opinion is that SOAP might be out of fashion. We&#039;ll show that&#039;s not necessarily true and try to help make SOAP the trend again.â€¦">
    <meta property="og:image" content="https://clue.engineering/src/2020-soap-2.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:url" content="https://clue.engineering/2020/announcing-reactphp-soap-2">
    <meta property="og:site_name" content="clueÂ·engineering">
    <meta property="article:published_time" content="2020-10-28">
    <meta name="twitter:site" content="@another_clue">
    <meta name="twitter:creator" content="@another_clue">
</head>

<body>
    <header class="bg-gray-800">
      <div class="relative">
        <div class="flex justify-between items-center max-w-3xl mx-auto px-1 py-1">
          <div class="flex justify-start">
            <a href="../" class="text-white py-1 px-1 hover:text-blue-100">
              <strong>clue</strong>Â·engineering
            </a>
          </div>
          
          <nav class="flex justify-end items-center space-x-1 sm:space-x-8">
            <a href="../blog" class="text-base text-gray-300 hover:text-gray-200">
              Blog
            </a>
            <a href="../talks" class="text-base text-gray-300 hover:text-gray-200">
              Talks
            </a>
            <a href="../support" class="ml-8 whitespace-nowrap inline-flex items-center justify-center px-1 sm:px-4 py-1 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-500 hover:bg-blue-400">
              <span class="hidden sm:inline sm:mr-1">Professional</span> Services
            </a>
          </nav>
        </div>
      </div>
    </header>

    <section id="post">
        <div class="container">
            <article>
                <h1>Announcing async SOAP requests with ReactPHP version 2</h1>
                <div>
                    <address>
                        <img src="../src/dennis.jpg" alt="Dennis GraÃŸnick Portrait Photo">
                        <img src="../src/me.jpg" alt="Christian LÃ¼ck Portrait Photo">
                        <a href="../">Dennis GraÃŸnick</a> &amp; <a href="../">Christian LÃ¼ck</a>
                    </address>
                    on <time datetime="2020-10-28">2020-10-28</time>
                    <div>
                        tagged
                        <a href="../blog#introducing-reactphp" title="Show all blog posts tagged #introducing-reactphp" rel="tag">#introducing-reactphp</a>
                        <a href="../blog#reactphp" title="Show all blog posts tagged #reactphp" rel="tag">#reactphp</a>
                        <a href="../blog#soap" title="Show all blog posts tagged #soap" rel="tag">#soap</a>
                        <a href="../blog#release" title="Show all blog posts tagged #release" rel="tag">#release</a>
                    </div>
                </div>

<p>Today, I'm happy to announce the <code>v2.0.0</code> release of <a href="https://github.com/clue/reactphp-soap">clue/reactphp-soap</a>,
the simple, async <a href="https://en.wikipedia.org/wiki/SOAP">SOAP</a> web service client library, built on top of <a href="https://reactphp.org">ReactPHP</a>. ðŸŽ‰
The common opinion is that SOAP might be out of fashion.
We'll show that's not necessarily true and try to help make SOAP <em>the</em> trend again.</p>

<p>To answer the first thing you may be wondering: <em>Yes, it is 2020</em> and indeed, SOAP has been around for quite a while.
Like many others, we've been using SOAP for decades.
But now I may reveal the next stable version of our SOAP library, based on <a href="https://reactphp.org">ReactPHP</a>.
Most importantly, this release includes full support for the recent <a href="../2020/announcing-reactphp-http">react/http v1.0.0</a>.
In addition, we have also made further optimizations: Legacy issues and inconsistencies have been removed, the documentation has been revamped slightly and the test suite has been improved. 
As a consequence, we now support PHP 7.1+ and upcoming PHP 8.</p>

<p>So I think it's about time to write an updated blog post about this project.
Warning, I've also revised some terrible puns.</p>

<p><img src="../src/2020-soap-2.png" alt="SOAP v2.0.0" /></p>

<h2 id="async-soap-requests">Async SOAP requests</h2>

<p>SOAP is not exactly a new protocol, but it's still commonly used for invoking <a href="https://en.wikipedia.org/wiki/Remote_procedure_call">remote procedure calls</a> (RPCs) in distributed systems.
Today, it competes with more modern alternatives such as (RESTful) HTTP APIs, GraphQL, JSON-RPC and others.
I'm not going to argue that either approach would be best suited for your particular use-case, but I <em>will</em> argue that many SOAP APIs have clearly stood the test of time and continue to provide very real business value with little maintenance overhead. 
This remains something the more modern approaches to API design have yet to prove. 
Arguably, while RPCs formatted as XML sent over HTTP are not exactly network-efficient, this is not really a major concern for many of the more <em>enterprisey</em> applications out there.</p>

<p>Now you know what SOAP is, in the following we will briefly show you how it works:</p>

<pre><code class="php">$wsdl = file_get_contents('service.wsdl');
$loop = React\EventLoop\Factory::create();
$browser = new React\Http\Browser($loop);
$client = new Clue\React\Soap\Client($browser, $wsdl);
$proxy = new Clue\React\Soap\Proxy($client);

$proxy-&gt;demo(1, 2)-&gt;then(function ($result) {
    var_dump('first result', $result);
});

$proxy-&gt;demo(3, 4)-&gt;then(function ($result) {
    var_dump('second result', $result);
});

$loop-&gt;run();
</code></pre>

<p>Admittedly, there's a lot of stuff going on, so let's take a look.
If we focus on the <code>$proxy</code> part, we can see that this example will execute two method calls.
These are our RPCs that will transparently be sent to the remote web service and allow us to react to the results of these calls, in this case dumping their results.</p>

<p>What's especially worth noting, however, is <em>how</em> this is executed.
Being entirely async, this piece of code will actually send two requests <em>concurrently</em>.
This means they both happen at the same time, i.e. the second call doesn't have to wait for the first one to complete.
In other words, if a single request takes 1 second to complete, then two requests will also take just 1 second (assuming ideal network conditions).
This is not just some theoretical construct, but something that bears some very significant real-world performance improvements.
To sum up, it is super fast!</p>

<p>If you want to learn more about the technical details behind this implementation, you can find all the details in our previous blog post for the <a href="../2018/introducing-reactphp-soap">version 1 release</a>.</p>

<h2 id="concluding-words">Concluding words</h2>

<p>I think we all agree that especially these days soap exists for good reasons (<em>sorry</em>). 
SOAP may not be new and may not be pretty, but it's far from being dead and continues to be a common protocol when connecting to existing third-party APIs. 
This makes <a href="https://github.com/clue/reactphp-soap">clue/reactphp-soap</a> an important piece of the puzzle of bringing ReactPHP to the masses, in particular when it comes to some of the more <em>enterprisey</em> APIs that offer very real business value. 
Thanks to ReactPHP's component-based design and its existing ecosystem, we can leverage its efficient network protocols to concurrently process a large number of requests, <a href="../2018/introducing-reactphp-mq">throttle concurrency</a>, <a href="../2018/introducing-reactphp-http-proxy">use HTTP proxy servers</a> and much more.</p>

<p>If you want to learn more about this project, make sure to check out the project homepage of <a href="https://github.com/clue/reactphp-soap">clue/reactphp-soap</a>.
Its documentation describes common usage patterns as well as all the nifty details.</p>

<p>Finally, I would like to end this with some words of vital importance.
We invest a lot of time to develop, maintain and update <a href="https://github.com/clue?tab=repositories">our awesome open-source projects</a>. 
If you are interested in <a href="../2020/2019-sustainability-report">sustainable open-source</a> <em>(note: you should)</em>, 
you can help us sustain this high-quality of our work by <a href="https://github.com/sponsors/clue">becoming a sponsor on GitHub</a>. 
Sponsors allow us to keep making progress and get numerous benefits in return, see our <a href="https://github.com/sponsors/clue">sponsoring page</a> for details.</p>

<p>Let's take these projects to the next level together.</p>

<p><em>Cheers</em> ðŸŽ‰ðŸ’¥</p>

<blockquote>
  <p>This blog post has originally been published with the <a href="../2018/introducing-reactphp-soap">version 1 release of this library in 2018</a>.
    You're viewing the updated blog post for the version 2 release.</p>
</blockquote>
            </article>
        </div>
    </section>

    <section id="calendly">
        <div class="bg-white">
            <div class="max-w-5xl mx-auto py-16 px-4 sm:px-6 lg:px-8">
                <div class="bg-gray-800 rounded-lg shadow-xl overflow-hidden lg:grid lg:grid-cols-2 lg:gap-4">
                    <div class="pt-10 pb-12 px-6 sm:pt-16 sm:px-16 lg:py-16 lg:pr-0 xl:py-10 xl:px-10">
                        <div class="lg:self-center">
                            <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
                                <span class="block">We're Here to Help!</span>
                                <span class="block text-blue-400">Let's Tackle Your Problems Together.</span>
                            </h2>
                            <p class="mt-4 text-lg leading-6 text-gray-200">
                                Did you know we provide <a href="https://clue.engineering/support" class="underline">professional support</a> for software projects?
                                Book an appointment, you pay absolutely nothing for the first consultation.
                            </p>
                            <a href="https://calendly.com/clue-engineering/getting-started" class="mt-8 bg-blue-400 hover:bg-blue-500 border border-transparent rounded-md shadow px-5 py-3 inline-flex items-center text-base font-medium text-white">Set Up a Free Call</a>
                        </div>
                    </div>
                    <div class="-mt-6 aspect-w-5 aspect-h-3 md:aspect-w-2 md:aspect-h-1">
                        <a href="https://calendly.com/clue-engineering/getting-started">
                            <img class="transform translate-x-16 translate-y-6 rounded-md object-cover object-left-top sm:translate-x-24 lg:translate-y-24 lg:translate-x-16" src="../src/2023-calendly.png" alt="calendly screenshot">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="share">
        <div class="container">
            <h3>
                <a href="#share"></a>
                We love feedback!
            </h3>
            <p>
                If you have anything to add,
                send a tweet to <a href="https://twitter.com/another_clue">@another_clue</a>.
            </p>
            <p>
                We invite you to share our blog posts with friends and colleagues.
                All our blog posts can be shared freely under the permissive
                <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a>
                license.
            </p>
            <p>
                <!-- Thank you! https://fontawesome.com/ (solid/envelope) -->
                <svg viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg>
                <a href="../contact">Email us</a> if you think we should be working together on interesting projects.
            </p>
        </div>
    </section>

    <footer class="bg-gray-800">
      <div class="max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8">
        <nav class="-mx-5 -my-2 flex flex-wrap justify-center" aria-label="Footer">
          <div class="px-5 py-2">
            <a href="../" class="text-base text-gray-400 hover:text-gray-300">
              Home
            </a>
          </div>

          <div class="px-5 py-2">
            <a href="../support" class="text-base text-gray-400 hover:text-gray-300">
              Services
            </a>
          </div>

          <div class="px-5 py-2">
            <a href="../blog" class="text-base text-gray-400 hover:text-gray-300">
              Blog
            </a>
          </div>

          <div class="px-5 py-2">
            <a href="../talks" class="text-base text-gray-400 hover:text-gray-300">
              Talks
            </a>
          </div>

          <div class="px-5 py-2">
            <a href="../contact" class="text-base text-gray-400 hover:text-gray-300">
              Contact
            </a>
          </div>


          <div class="px-5 py-2">
            <a href="../contact#imprint" class="text-base text-gray-400 hover:text-gray-300">
              Imprint
            </a>
          </div>
        </nav>
        <div class="mt-8 flex justify-center space-x-6">
          <a href="https://twitter.com/another_clue" title="@another_clue on Twitter" class="text-gray-400 hover:text-gray-300">
            <span class="sr-only">Twitter</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
            </svg>
          </a>
    
          <a href="https://github.com/clue" title="@clue on GitHub" class="text-gray-400 hover:text-gray-300">
            <span class="sr-only">GitHub</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
      </div>
    </footer>
</body>
</html>
